{"ast":null,"code":"import _slicedToArray from\"/home/pop_os_flex/Documents/Code/JavaScript/ReactJS/fakeblock-shopping/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import'./css/Orders.css';import React,{Component,useState,useEffect}from'react';import{useStateValue}from'./StateProvider';import Order from'./Order';import{db}from'../firebase.js';function Orders(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];console.log(orders);useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orders_orders\",children:orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/_jsx(Order,{order:order});})})]});}export default Orders;","map":{"version":3,"sources":["/home/pop_os_flex/Documents/Code/JavaScript/ReactJS/fakeblock-shopping/src/Components/Orders.js"],"names":["React","Component","useState","useEffect","useStateValue","Order","db","Orders","orders","setOrders","basket","user","dispatch","console","log","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"qRAAA,MAAO,kBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,SAArC,KAAsD,OAAtD,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,QAASC,CAAAA,MAAT,EAAkB,eACWL,QAAQ,CAAC,EAAD,CADnB,wCACPM,MADO,eACAC,SADA,kCAEuBL,aAAa,EAFpC,sFAELM,MAFK,kBAELA,MAFK,CAEGC,IAFH,kBAEGA,IAFH,CAEWC,QAFX,oBAGdC,OAAO,CAACC,GAAR,CAAYN,MAAZ,EACAL,SAAS,CAAC,UAAK,CACZ,GAAGQ,IAAH,CAAQ,CACPL,EAAE,CACDS,UADD,CACY,OADZ,EAECC,GAFD,CAEKL,IAFL,SAEKA,IAFL,iBAEKA,IAAI,CAAEM,GAFX,EAGCF,UAHD,CAGY,QAHZ,EAICG,OAJD,CAIS,SAJT,CAImB,MAJnB,EAKCC,UALD,CAKY,SAAAC,QAAQ,QAChBX,CAAAA,SAAS,CAACW,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAK,CAChCO,EAAE,CAAEP,GAAG,CAACO,EADwB,CAEhCC,IAAI,CAAER,GAAG,CAACQ,IAAJ,EAF0B,CAAL,EAArB,CAAD,CADO,EALpB,EAWA,CAZD,IAaI,CACAf,SAAS,CAAC,EAAD,CAAT,CACH,CAEH,CAlBQ,CAkBP,CAACE,IAAD,CAlBO,CAAT,CAqBA,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,mCADJ,cAEI,YAAK,SAAS,CAAC,eAAf,UACKH,MADL,SACKA,MADL,iBACKA,MAAM,CAAEc,GAAR,CAAY,SAAAG,KAAK,qBACd,KAAC,KAAD,EAAO,KAAK,CAAIA,KAAhB,EADc,EAAjB,CADL,EAFJ,GADJ,CAUH,CAED,cAAelB,CAAAA,MAAf","sourcesContent":["import './css/Orders.css'\nimport React, { Component, useState, useEffect } from 'react';\nimport { useStateValue } from './StateProvider';\nimport Order from './Order'\nimport { db } from '../firebase.js';\nfunction Orders() {\n    const [orders,setOrders]=useState([])\n    const [{ basket, user }, dispatch] = useStateValue();\n    console.log(orders);\n    useEffect(() =>{\n       if(user){\n        db\n        .collection('users')\n        .doc(user?.uid)\n        .collection('orders')\n        .orderBy('created','desc')\n        .onSnapshot(snapshot => (\n            setOrders(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        ))\n       }\n       else{\n           setOrders([]);\n       }\n        \n    },[user])\n\n\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className='orders_orders'>\n                {orders?.map(order => (\n                    <Order order = {order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n\n"]},"metadata":{},"sourceType":"module"}